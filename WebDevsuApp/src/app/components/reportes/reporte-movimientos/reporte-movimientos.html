<div class="container">
  <h2>Reporte</h2>
  <div class="divider"></div>

  <form #emailForm="ngForm" class="form-container">
    <!-- Grupo de formulario para cada campo -->

    <div class="form-group">
      <label for="cliente">Cliente:</label>

      <select id="cliente" [(ngModel)]="idCliente" name="cliente">
        <option value="" disabled>Seleccione un cliente</option>
        @for (item of clientes; track $index) {
        <option [value]="item.idCliente">{{ item.nombre }}</option>
        }
      </select>
    </div>

    <div class="form-group">
      <label for="fechaDesde">Fecha Desde:</label>
      <input type="date" name="fechaDesde" [(ngModel)]="fechaDesde" />
    </div>

    <div class="form-group">
      <label for="fechaHasta">Fecha Hasta:</label>
      <input type="date" name="fechaHasta" [(ngModel)]="fechaHasta" />
    </div>

    <div class="button-group">
      <button
        type="submit"
        class="button-guardar"
        (click)="onConsultarReporte()"
      >
        Consultar Reporte
      </button>
      <button class="button-reiniciar" (click)="onGenerarPDF()">
        Generar PDF
      </button>
    </div>
  </form>
</div>

<div class="container">
  <div class="table-wrapper">
    <table class="table">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Cliente</th>
          <th>NÂ°. Cuenta</th>
          <th>Tipo</th>
          <th>Saldo Inicial</th>
          <th>Estado</th>
          <th>Movimiento</th>
          <th>Saldo Disponible</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (row of movimientos; track row) {
        <tr>
          <td>{{ row.fecha| date : "yyyy-MM-dd" : "UTC" }}</td>
          <td>{{ row.cliente }}</td>
          <td>{{ row.numeroCuenta }}</td>
          <td>{{ row.tipoCuenta =='A' ? 'Ahorros' : 'Corriente' }}</td>
          <td>{{ row.saldoInicial }}</td>
          <td>{{ row.estado ? "Activo" : "Inactivo" }}</td>
          <td>{{ row.valorMovimiento}}</td>
          <td>{{ row.saldoDisponible}}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
